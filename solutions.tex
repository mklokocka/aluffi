\documentclass{article}

% Standard American Math Society packages provide theorem environments, symbols,
% etc.
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}

% For including graphics (such as charts and diagrams.)
\usepackage{graphicx}
\graphicspath{ {.} }
\usepackage{tikz-cd}


% The chngcntr ("change counter") package is used here so that subsection
% numbers are written without the leading section number. This takes place in
% the subsection headings as well as the theorem environment numbering.
%
% Before:
% 1. Section
% 1.1. Subsection
% Problem 1.1.1. What is 1 + 1?
% Problem 1.1.2. What is 1 + 2?
%
% After:
% 1. Section
% 1. Subsection
% Problem 1.1. What is 1 + 1?
% Problem 1.2. What is 1 + 2?
% \usepackage{chngcntr}
% \counterwithout{subsection}{section}

% The problem environment is a regular ams theorem environment with "Problem"
% text and some leading space to give some separation between the problems.
\theoremstyle{definition}
\newtheorem{problem-internal}{Problem}[subsection]
\newenvironment{problem}{
	\medskip
	\begin{problem-internal}
	}{
\end{problem-internal}
}

% The solution environment is a proof environment with the "solution" text as
% well as the following adjustments:
% - No indent on paragraphs;
% - A small amount of space between paragraphs.
%
% Note: The negative space at the beginning is to remove the space before the
% first paragraph in the solution.
\newenvironment{solution}{
	\begin{proof}[Solution]
		\vspace{-8px}
		\setlength{\parskip}{4px}
		\setlength{\parindent}{0px}
	}{
\end{proof}
}

% Renewing the \thesection command changes the section numbers to roman
% numerals. This matches the style of the Aluffi textbook.
%
% Before:
% 1. Section
% 1.1. Subsection
%
% After:
% I. Section
% I.1. Subsection
\renewcommand{\thesection}{\Roman{section}} 

% Renewing the \qedsymbol command changes the QED symbol. This QED symbol is
% automatically used by the proof environment.

% Set with spacing padding for the curly braces.
\newcommand{\set}[1]{\left\{\,#1\,\right\}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\im}{\mathrm{im}}
\newcommand{\Obj}{\mathrm{Obj}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\abs}[1]{\left|#1\right|}
% Inuitive "from" command draws an arrow pointing left, A <- B reads "A from p"
\newcommand{\from}{\leftarrow}
\newcommand{\quotuniv}[1]{\overline{#1}}

% Commands for some frequently used categories.
\newcommand{\C}{\mathsf{C}}
\newcommand{\Cop}{\mathsf{C^{op}}}
\newcommand{\Cset}{\mathsf{Set}}

\begin{document}

\section{Preliminaries: Set theory and categories}
\setcounter{subsection}{2}

\subsection{Category Theory}

% Problem 3.1
\begin{problem}
\end{problem}

\begin{solution}
	To make this into a category, we have to define the composition set-function $\circ_{Cop} : \Hom_{\Cop}(A,B) \times \Hom_{\Cop}(B,C) \to \Hom_{\Cop}(A,C)$, for $A,B,C$ objects of $\Cop$. Let $f \in \Hom_{\Cop}(A,B)$ and $g \in \Hom_{\Cop}(B,C)$ be morphisms in $\Cop$. We will define the morphism $g \circ_{\Cop} f$ as the composition $f \circ_{\C} g$ (in the original category $\C$). Since $f \in \Hom_{\Cop}(A,B)$, then $f \in \Hom_{\C}(B,A)$ and similarly $g \in \Hom_{\C}(C,B)$ thus $f \circ_{\C} g \in \Hom_{\C}(C,A)$ and therefore $g \circ{\Cop} f \in \Hom_{\Cop}(A,C)$.
	
	To confirm this composition makes $\Cop$ into a category, we have to check all the required properties.
	\begin{itemize}
		\item For any objects $A, B, C, D \in \Obj(\Cop)$ the sets of morphisms $\Hom_{\Cop}(A,B)$ and $\Hom_{\Cop}(C,D)$ are disjoint unless $A=C$ and $B=D$, as this follows easily from the sets definitions.
		\item For any $A \in \Obj(\Cop)$, we have $\Hom_{\Cop}(A,A) = \Hom_{\C}(A,A)$, and thus it follows the identity morphisms remain the same.
		\item The composition is associative, as for any three morphisms $f,g,h$ (from the respective sets), $(h \circ_{\Cop} g) \circ_{\Cop} f = (g \circ_{\C} h) \circ_{\Cop} f = f \circ_{\C} (g \circ_{\C} h) = (f \circ_{\C} g) \circ_{\C} h = h \circ_{\Cop} (f \circ_{\C} g) = h \circ_{\Cop} (g \circ_{\Cop} f)$, as needed.
		\item We also need to check that the identity morphisms are indeed identities with respect to $\circ_{\Cop}$. Let $f \in \Hom_{\Cop}(A,B)$. Then $f \circ_{\Cop} 1_A = 1_A \circ_{\C} f = f$. Similarly, $1_B \circ_{\Cop} f = f \circ_{\C} 1_B = f$.
	\end{itemize}
\end{solution}

% Problem 3.2
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $A$ is a finite set. $\mathrm{End}_{\Cset}(A) = A^A$, i.e. the set of all the set-functions of the form $f: A \to A$. Since $A$ is a finite set, by Exercise I.2.10 we have $\abs{A^A}=\abs{A}^{\abs{A}}$.
\end{solution}

% Problem 3.3
\begin{problem}
\end{problem}

\begin{solution}
	Let $f = (a,b)$. We have $1_a = (a,a)$ and $1_b = (b,b)$. By the definition of the composition in this category, we have $f1_a = (a,b) = f$ and $1_bf = (a,b) = f$, which is exactly what we needed.
\end{solution}

% Problem 3.4
\begin{problem}
\end{problem}

\begin{solution}
	We cannot. This is because the relation $<$ is not reflexive. The reflexivity is needed to ensure the existence of identity morphisms in the category. Without it, for any $a \in \mathbb{Z}$, we would have $\Hom(a,a) = \emptyset$, as $a \not < a$.
\end{solution}

% Problem 3.5
\begin{problem}
\end{problem}

\begin{solution}
	We could take the defining relation of the categories considered in Example I.3.3 to be, for any two sets $A,B \in \mathcal{P}(S)$, $A \sim B \iff A \subseteq B$.
\end{solution}

% Problem 3.6
\begin{problem}
\end{problem}

\begin{solution}
	The definition of composition is straightforward. If we have $f \in \Hom_{\mathsf{V}}(n,m)$ and $g \in \Hom_{\mathsf{V}}(m,r)$, $f$ is a $m \times n$ matrix, and $g$ is a $r \times m$ matrix. We can then define the composition $gf$ as the product of the two matrices in that order, the resulting matrix will be $r \times n$, and thus $gf \in \Hom_{\mathsf{V}}(n,r)$.
	
	Now, to check that this makes $\mathsf{V}$ into a category, we also have to find the identity morphisms. For any $n \in \mathbb{N}$ there is surely the identity matrix with ones on the main diagonal and zeroes elsewhere, we will take this as the identity morphism. This is of course an identity with respect to the composition defined above, as it is an identity with respect to matrix multiplication. The composition is also associative, from the properties of matrix multiplication.
\end{solution}

% Problem 3.7
\begin{problem}
\end{problem}

\begin{solution}
	The category we are considering is similar to the opposite category of $\C_A$, that is everything remains the same but the direction of the arrows change. This category is usually denoted as $\C^A$. The objects of this category are the morphisms $f : A \to Z$ for some $Z \in \Obj(\C)$. The morphisms of this category are commutative diagrams:
	\begin{equation*}
		\begin{tikzcd}[row sep=small]
			& Z_1 \arrow[dd, "\sigma"]\\
			A \arrow[ur, "f_1" swap]
			  \arrow[dr, "f_2"] & {} \\
			& Z_2
		\end{tikzcd}
	\end{equation*}
	where $\sigma$ is a morphism of the ambient category making the given diagram commute. To find the composition of two morphisms in this category, consider the diagram:
	\begin{equation*}
		\begin{tikzcd}
			& Z_1 \arrow[d, "\sigma"]\\
			A \arrow[ur, "f_1" swap]
			  \arrow[dr, "f_2"] & Z_2 \arrow[d, "\tau"] \\
			& Z_3
		\end{tikzcd}
	\end{equation*}
	Notice that removing the central arrow results in the diagram
	\begin{equation*}
		\begin{tikzcd}[row sep=small]
			& Z_1 \arrow[dd, "\tau\sigma"]\\
			A \arrow[ur, "f_1" swap]
			  \arrow[dr, "f_2"] & {} \\
			& Z_3
		\end{tikzcd}
	\end{equation*}
	which commutes because of the fact that $\C$ is a category.
\end{solution}

% Problem 3.8
\begin{problem}
\end{problem}

\begin{solution}
	To construct the category we need to specify its objects and its morphisms:
	\begin{itemize}
		\item $\Obj(\mathsf{InfSet}) := $ the class off all infinite sets
		\item For any two infinite sets $A, B \in \Obj(\mathsf{InfSet})$ we let $\Hom_{\mathsf{InfSet}}(A,B) := $ the set of all set functions between $A$ and $B$
	\end{itemize}
	Now, identities and composition can be inherited from $\Cset$. This makes it into a full subcategory of $\Cset$ though, as for all $A, B \in \Obj(\mathsf{InfSet})$ we have $\Hom_{\mathsf{InfSet}}(A,B) = \Hom_{\Cset}(A,B)$.
\end{solution}

% Problem 3.9
\begin{problem}
\end{problem}

\begin{solution}
	We will define the category $\mathsf{MSet}$ as follows:
	\begin{itemize}
		\item $\Obj(\mathsf{MSet}) := (S, \sim)$, where $S$ is any set and $\sim \subset S \times S$ is an equivalence relation on $S$.
		\item For $(S, \sim_1), (R, \sim_2) \in \Obj(\mathsf{MSet})$ we define $\Hom_{\mathsf{MSet}}((S, \sim_1),(R, \sim_2))$ to be the set of all set-functions $f: S \to R$ such that for $s_1, s_2 \in S$ we have $s_1 \sim_1 s_2 \implies f(s_1) \sim_2 f(s_2)$.
		\item The identity morphisms for $A=(S, \sim) \in \Obj(\mathsf{MSet})$ in this category will be the set-functions $1_A: S \to S$ such that $1_A(s) = s$. The required condition will obviously hold.
		\item The composition of two morphisms $f \in \Hom_\mathsf{MSet}((S, \sim_1), (R, \sim_2))$, $g \in \Hom_\mathsf{MSet}((R, \sim_2),(T, \sim_3))$ will be defined as the standard composition of the underlying set-functions. The required condition will hold, because for $s_1, s_2 \in S$, such that $s_1 \sim_1 s_2$ we have must have $f(s_1) \sim_2 f(s_2)$ and thus $gf(s_1) = g(f(s_1)) \sim_3 g(f(s_2)) = gf(s_2)$. Therefore $gf \in \Hom_\mathsf{MSet}((S, \sim_1),(T, \sim_3))$.
		\item The associativity and identity morphisms being identities with respect to composition all follow from the properties of set-functions.
	\end{itemize}
	
	The category $\Cset$ is contained in $\mathsf{MSet}$ as a full subcategory, as for any $S \in \Obj(\Cset)$ we have the object $(S, \sim) \in \Obj(\mathsf{MSet})$, where $\sim$ is the "identity" relation where for any $s,r \in S$ we have $s \sim s$, but $s \not \sim r$.  For any $R \in \Obj(\Cset)$ we then have $\Hom_\Cset(S,R) = \Hom_\mathsf{MSet}(S,R)$
	
	The objects of $\mathsf{MSet}$ that correspond to ordinary multisets are those whose underlying set is countable, as by the definition in Example I.2.2, multisets are those sets $A$ for which we have a function $f: A \to \mathbb{N}$.
\end{solution}

% Problem 3.10
\begin{problem}
\end{problem}

\begin{solution}
	The subobject classifier in $\Cset$ is the set $\Omega = \set{0,1}$. For any set $S$ the morphism, a set-function in this case, $f: S \to \Omega$ is then equal to a subset of $S$, as it defines precisely which elements are part of the subset (those that map to $1$, for example), and which are not.
\end{solution}

% Problem 3.11
\begin{problem}
\end{problem}

\begin{solution}
	Lets start by defining the category $\C^{A,B}$:
	\begin{itemize}
		\item $\Obj(\C^{A,B}) =$ diagrams
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f"]& \\
					& Z \\
					B \arrow[ur, "g" swap]&
				\end{tikzcd}
			\end{equation*}
			in $\C$, and
		\item morphisms
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f_1"] & & & & A \arrow[dr, "f_2"] & \\
					& Z_1 & \arrow[r] & {} & & Z_2 \\
					B \arrow[ur, "g_1" swap] & & & & B \arrow[ur, "g_2" swap]&
				\end{tikzcd}
			\end{equation*}
			are commutative diagrams
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f_1"] \arrow[drr, bend left,"f_2"] & & \\
					& Z_1 \arrow[r, "\sigma"]& Z_2 \\
					B \arrow[ur, "g_1" swap] \arrow[urr, bend right, "g_2"] & &
				\end{tikzcd}
			\end{equation*}
		\item The identity morphisms will be the diagrams
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f"] \arrow[drr, bend left,"f"] & & \\
					& Z \arrow[r, "1_Z"]& Z \\
					B \arrow[ur, "g" swap] \arrow[urr, bend right, "g"] & &
				\end{tikzcd}
			\end{equation*}
			that must commute.
		\item The composition of two morphisms is again just a product of compositions in $\C$. To see this, notice that the diagram
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f_1"] 
					  \arrow[drr, bend left,"f_2"]
					  \arrow[drrr, bend left, "f_3"] & & & \\
					& Z_1 \arrow[r, "\sigma"]& Z_2 \arrow[r, "\tau"] & Z_3 \\
					B \arrow[ur, "g_1" swap]
					  \arrow[urr, bend right, "g_2"]
					  \arrow[urrr, bend right, "g_3"] & & &
				\end{tikzcd}
			\end{equation*}
			is indeed commutative (inherited from $\C$) and thus the diagram
			\begin{equation*}
				\begin{tikzcd}[row sep=small]
					A \arrow[dr, "f_1"] \arrow[drr, bend left,"f_3"] & & \\
					& Z_1 \arrow[r, "\tau\sigma"]& Z_3 \\
					B \arrow[ur, "g_1" swap] \arrow[urr, bend right, "g_3"] & &
				\end{tikzcd}
			\end{equation*}
			is commutative as well. Since $\tau\sigma \in \Hom_\C(Z_1, Z_3)$, we define this diagram to be the composition of the two given morphisms.
	\end{itemize}
	
	The definition of $\C^{\alpha, \beta}$ is very similar, only adding an object and two arrows into each diagram.
\end{solution}

\subsection{Morphisms}

% Problem 4.1
\begin{problem}
\end{problem}

\begin{solution}
	Let $\C$ be a category and for any $n \in \mathbb{N}$, $f_n$ a morphism in $\C$ such that we can form the composition $((\dots((f_{n}f_{n-1})f_{n-2})\dots)f_1)$. We will now prove that no matter the way we place the parentheses, the result of the composition remains the same. We will procede by induction on $n$:
	\begin{itemize}
		\item For $n=2$, we only have one choice, $(f_2f_1)$.
		\item Let $n \in \mathbb{N}$. Suppose that for all $m \leq n$, $m \in \mathbb{N}$, it does not matter how we place the parentheses in the composition $f_mf_{m-1}\dots f_1$. Now, let us have some placement of parentheses on the composition $f_nf_{n-1}\dots f_1$. Then we can split this composition into separate pieces contained in some outer pair of parentheses. Either there is just one pair of those outermost parentheses. Then there is some morphism that is composed with other morphisms in parentheses. Then the rest is shorter than $n$ and we can ignore the parentheses, and then the result follows from the case $n=2$. Otherwise, those pieces all contain less than $n$ morphisms, and we can reorder the parentheses in them at will. Since the whole composition of those pieces is also shorter than $n$, we can reorder the parentheses at will.
	\end{itemize}
\end{solution}

% Problem 4.2
\begin{problem}
\end{problem}

\begin{solution}
	For a category to be a groupoid, all the morphisms have to be isomorphisms. That means every morphism will have a corresponding inverse. By the definition of the categories in Example I.3.3, there is at most one morphism for any two objects $A, B$, and it exists if and only if $A \sim B$. Therefore, for an inverse to exist, we need there to be a morphism $B \to A$, which only exists if $B \sim A$, and thus $\sim$ must be symmetric.
\end{solution}

% Problem 4.3
\begin{problem}
\end{problem}

\begin{solution}
	Let $A, B$ be objects of the category $\C$, and let $f \in \Hom_\C(A, B)$ be a morphism.
	\begin{itemize}
		\item Suppose $f$ has a right-inverse $g: B \to A$ such that $fg = 1_B$. Let $Z_1, Z_2$ be any two objects of the category $\C$ and $\alpha_1: B \to Z_1$ and $\alpha_2: B \to Z_2$ be any morphisms. Then if $\alpha_1 f = \alpha_2 f$, we have $(\alpha_1 f) g = (\alpha_2 f) g$, so $\alpha_1 (fg) = \alpha_2 (fg)$, thus $\alpha_1 1_B = \alpha_2 1_B$ and therefore $\alpha_1 = \alpha_2$. This proves $f$ is an epimorphism as needed.
		\item Take for example the category defined in Example I.3.3, $\mathbb{Z}$ endowed with $\leq$. Then take for example the morphism $(4,5)$. It is an epimorphism, as if we have two morphism $(5, z_1)$ and $(5, z_2)$, $(5, z_1)(4,5)=(4, z_1)$ and $(5, z_2)(4,5)=(4,z_2)$. Now if $(4,z_1)=(4,z_2)$, we must have $z_1 = z_2$, but then $(5,z_1)=(5,z_2)$. This epimorphism does not have a right-inverse, because the only choice would be $(5,4)$, which does not exist as $5 \not \leq 4$.
	\end{itemize}
\end{solution}

% Problem 4.4
\begin{problem}
\end{problem}

\begin{solution}
	Let $\C$ be a category and for $A,B,C$ objects of $\C$, let $f: A \to B$, $g: B \to C$ be monomorphisms. Now, let $Z_1, Z_2$ be any objects of $\C$ and $\alpha_1: B \to Z_1$, $\alpha_2: B \to Z_2$. Suppose $\alpha_1 (gf) = \alpha_2 (gf)$, so $(\alpha_1 g)f = (\alpha_2 g)f$. But we know $f$ is an monomorphism, so $\alpha_1 g = \alpha_2 g$. But $g$ is also an monomorphism, and thus $\alpha_1 = \alpha_2$. Thus, $gf$ is an monomorphism. We can therefore define a category $\C_{mono}$, keeping the same objects as $\C$, but restricting the set of morphisms to monomorphisms only. Since a composition of monomorphisms is itself a monomorphism, the same composition function used in $\C$ works in $\C_{mono}$. Identities also remain the same, as they are isomorphisms.
	
	We can do the same for epimorphisms, the proof is essentially the same.
	
	We cannot define a category $\C_{nonmono}$ as the identity morphisms are trivially monomorphisms.
\end{solution}

% Problem 4.5
\begin{problem}
\end{problem}

\begin{solution}
	We cannot simply use the concepts of injective and surjective set-functions, as we are dealing with elements that can be equal to each other. On the other hand, our monomorphisms and epimorphisms will have to be identical to those concepts for the full subcategory of $\Cset$.
	
	Let $A = (S, \sim_S), B = (R, \sim_R)$ be objects of $\mathsf{MSet}$, and let $f: A \to B$ be a morphism of this category. For $f$ to be a monomorphism in $\mathsf{MSet}$, it must hold that $[f(a)]_{\sim_R} = [f(b)]_{\sim_R} \implies [a]_{\sim_S} = [b]_{\sim_S}$. For $f$ to be an epimorphism, it must hold that for all classes of equivalence $[b]_{\sim_R} \in R/\sim_R$ there is some $a \in S$ such that $f(a) \in [b]_{\sim_R}$.
\end{solution}

\subsection{Universal properties}

% Problem 5.1
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $I$ is an initial object of a category $\C$. This means that for any object $A$ of $\C$, there exists a single morphism $I \to A$. By the construction of $\Cop$, $\Hom_{\Cop}(I,A) = \Hom_{\C}(A,I)$, thus it must be a singleton, and therefore $I$ is a final object in $\Cop$.
\end{solution}

% Problem 5.2
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $I \neq \emptyset$ is an initial object in $\Cset$. By Proposition I.5.4 there is a uniquely defined isomorphism $f: \emptyset \to I$. But there is only one such set-function, defined by the empty graph from $\emptyset$ to $I$, which is not an isomorphism, because namely, it cannot be surjective. A contradiction.
\end{solution}

% Problem 5.3
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $F_1, F_2$ are final objects of a category $\C$. Then by the defining property of final objects, there exists unique morphisms $f: F_1 \to F_2$ and $g: F_2 \to F_1$. The only morphism from a final object to itself must be the identity morphism, thus $gf = 1_{F_1}$ and $fg = 1_{F_2}$ and therefore, $f$ is an isomorphism between $F_1$ and $F_2$. Moreover, this isomorphism is uniquely determined.
\end{solution}

% Problem 5.4
\begin{problem}
\end{problem}

\begin{solution}
	The initial and final objects of the group $\Cset^*$ will be the singleton sets with a single distinguished element. To see that they are initial, note that there is a single morphism $f$ from $(\set{s}, s)$ to any other pointed set $(R, r)$ such that for the underlying set-function we have $f(s)=r$. To see that they are final, we can just send all elements to the single unique element of the final object.
\end{solution}

% Problem 5.5
\begin{problem}
\end{problem}

\begin{solution}
	The final object of the category is, for example (note that any singleton will do), the object
	\begin{equation*}
		\begin{tikzcd}
			A \arrow[r, "c"] & \set{*}
		\end{tikzcd}
	\end{equation*}
	with $c$ being the constant function. This function surely satisfies the constraint posed. To see this is truly a final object of the category, note that for any other object
	\begin{equation*}
		\begin{tikzcd}
			A \arrow[r, "f"] & Z
		\end{tikzcd}
	\end{equation*}
	there is a unique commutative diagram
	\begin{equation*}
		\begin{tikzcd}[column sep=small]
			Z \arrow[rr, "\sigma"] & & \set{*} \\
			& A \arrow[ul, "f"] \arrow[ur, "c" swap] &
		\end{tikzcd}
	\end{equation*}
	The uniqueness of this diagram is given by the uniqueness of $\sigma$, which can only be the constant function, which surely makes this diagram commute, as for any $a \in A$ $\sigma f(a) = * = c(a)$.
\end{solution}

% Problem 5.6
\begin{problem}
\end{problem}

\begin{solution}
	For $m_1 \times m_2$ to be a product in this category, it must hold that $m_1 \times m_2$ divides both $m_1$ and $m_2$, and that any divisor of both of them must divide $m_1 \times m_2$. The only reasonable choice for this product is the greatest common divisor. Similarly for coproducts, both $m_1$ and $m_2$ must divide it, and also if they both divide any other positive integer, it is divisible by the coproduct. In this case, it is the least common multiple of the numbers.
\end{solution}

% Problem 5.7
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $A', A'', B', B''$ be sets such that $A' \cong A''$, $B' \cong B''$, $A' \cap A'' = \emptyset$ and $B' \cap B'' = \emptyset$. We will first show that $A' \cup B'$ is a coproduct of $A'$ and $B'$ in $\Cset$, then the same for $A'' \cup B''$, and finally, using Proposition I.5.4, we will conclude that those two sets are indeed isomorphic.
	
	Let $i_{A'}: A' \to A' \cup B'$ be defined for any $a \in A'$ as $i_{A'}(a) = a$ and similarly for $i_{B'}: B' \to A' \cup B'$ we define for any $b \in B'$ $i_{B'}(b) = b$. Let $Z$ be any set and $f_{A'}: A' \to Z, f_{B'}: B' \to Z$ morphisms. To show that this construction satisfies the universal property for coproducts, we need to find a morphism $\sigma: A' \cup B' \to Z$ which is unique. Indeed to make the relevant diagram commute, the only possible function maps any $c \in A' \cup B'$ to $f_{A'}(c)$ if $c \in A'$ and to $f_{B'}(c)$ otherwise. Note that $A' \cap B' = \emptyset$ and therefore we can either have $c \in A'$ or $c \in B'$ and thus the function is well defined.
	
	Now, since $A' \cong A''$ and $B' \cong B''$, there must be isomorphisms $f : A' \to A''$ and $g: B' \to B''$. Define $i_{A'}=f$ and $i_{B'}=g$. We must now show that $A'' \cup B''$ with those two morphisms forms a coproduct of $A'$ and $B'$ in $\Cset$. Let $Z$ be any set and $f_{A'}: A' \to Z, f_{B'}: B' \to Z$ morphisms. Define $\sigma: A'' \cup B'' \to Z$ such that for $c \in A'' \cup B''$ we have $\sigma(c)=f_{A''}f^{-1}$ if $c \in A''$, $\sigma(c)=f_{B''}g^{-1}$ otherwise. Note that $A'' \cap B'' = \emptyset$ and thus either $c \in A''$ or $c \in B''$. Thus $A'' \cup B''$ is also a coproduct in $\Cset$.
	
	By Proposition I.5.4 it must follow that $A' \cup B' \cong A'' \cup B''$.
\end{solution}

% Problem 5.8
\begin{problem}
\end{problem}

\begin{solution}
	Suppose that $A \times B$ and $B \times A$ are products in the category $\C$. We shall show that $B \times A$ satisfies the universal property of the product of $A$ and $B$. Define the two morphisms $\pi_A: B \times A \to A$ and $\pi_B: B \times A$ as follows: for $c = (b, a) \in B \times A$, $\pi_A((b,a)) = a$ and $\pi_B((b,a)) = b$. Now, let $Z$ be any set and $f_A: Z \to A, f_B: Z \to B$ any morphisms. The only possible choice for a morphism $\sigma : Z \to B \times A$ is the function defined for $z \in Z$ to be $\sigma(z) = (f_B(z), f_A(z))$. This set-function makes the required diagram commute, as $\pi_A\sigma(z)=\pi_A((f_B(z), f_A(z))=f_A(z)$ and similarly for $\pi_B$.
	
	But then $B \times A$ is a product of $A$ and $B$ in $\C$ and thus by Proposition I.5.4 it follows that $A \times B \cong B \times A$.
\end{solution}

% Problem 5.9
\begin{problem}
\end{problem}

\begin{solution}
	The reasonable choice for the required universal property is for $A \times B \times C$ to be the final object of the category with objects defined as the diagrams
	\begin{equation*}
		\begin{tikzcd}[row sep=small]
			& A \\
			Z \arrow[ur, "\pi_A"]
			  \arrow[r, "\pi_B"]
			  \arrow[dr, "\pi_C" swap] & B \\
			& C
		\end{tikzcd}
	\end{equation*}
	and morphisms defined similarly as in the category $\C^{A,B}$.
	
	Now, we shall prove that the products $(A \times B) \times C$ and $A \times (B \times C)$ satisfy this universal property. For $(A \times B) \times C$, there must be morphisms $\pi'_{A \times B}: (A \times B) \times C \to A \times B$ and $\pi'_C: (A \times B) \times C$ and because $A \times B$ is in itself a product the morphisms $\pi''_A: A \times B \to A$ and $\pi''_B: A \times B \to B$. We can then define $\pi_A = \pi''_A \pi'_{A \times B}$ and similarly for $\pi_B$ and $\pi_C$ Now let $Z$ be any object of $\C$ and $f_A: Z \to A, f_B: Z \to B, f_C: Z \to C$ any morphism. The only possible choice for the required morphism $\sigma$ is the unique morphism $\sigma': Z \to (A \times B) \times C$ that must exist because $(A \times B) \times C$ satisfies the ultimate property for product of two objects. This morphism makes the required diagram commute, as $\pi_A\sigma=(\pi''_A \pi'_{A \times B}) \sigma' = \pi''_A (\pi'_A \sigma') = \pi''_A f'_A = f_A$ (the last part must hold by the universal property of $A \times B$) and similarly for $\pi_B$ and $\pi_C$. Thus $(A \times B) \times C$ satisfies the required universal property f the product $A \times B \times C$. The case for $A \times (B \times C)$ is entirely analogous.
	
	Therefore by Proposition I.5.4 it follows that $(A \times B) \times C \cong A \times (B \times C)$. The other conclusion we can draw is that if $\C$ is a category with products of two objects also has products of three objects.
\end{solution}

% Problem 5.10
\begin{problem}
\end{problem}

\begin{solution}
	Let $\C$ be a category. We will say that $\C$ is a category with finite products if it satisfies the universal property that $\prod_{i=1,\dots, n} A_i$ (where $A_i$ are objects of $\C$) with the morphisms, for $i \in \mathbb{Z}^+$, $\pi_{A_i}: \prod_{i=1,\dots, n} A_i \to A_i$ is a final object of a category defined similarly to $C^{A,B}$ only extending its definition to contain all the objects $A_i$. The definition of a category with finite coproducts is entirely analogous.
	
	Now, we shall prove that any category with products of two objects is also a category with finite products. That means for any $n \in \mathbb{Z}^+, n \geq 2$ there is the finite product as defined above. For $n = 2$, this is clear, as the product of two objects satisfies the property for finite products (the definitions of the required categories coincide). Now suppose there are finite products up to some $n \in \mathbb{Z}^+$. The process of constructing a finite product of $n + 1$ objects is entirely analogous to the proof we gave for Problem I.5.9.
	
	Thus there are both finite products and coproducts in $\Cset$.
\end{solution}

% Problem 5.11
\begin{problem}
\end{problem}

\begin{solution}
	Let $A, B$ be sets, i.e. objects of the category $\Cset$, $A \times B$ their product in $\Cset$ with the corresponding natural morphisms $\pi_A: A \times B \to A$ and $\pi_B: A \times B \to B$ and $\sim_A, \sim_B, \sim$ equivalence relations.
	\begin{itemize}
		\item Consider the sets $(A \times B) \setminus \sim$, $A \setminus \sim_A$ and $B \setminus \sim_B$ with the corresponding canonical projections $\pi_\sim: A \times B \to (A \times B) \setminus \sim$, $\pi_{\sim_A}: A \to A \setminus \sim_A$ and $\pi_{\sim_B}: B \to B \setminus \sim_B$. Then there are morphisms $\pi_{\sim_A} \pi_A: A \to A \setminus \sim_A$ and $\pi_{\sim_B} \pi_B: B \to B \setminus \sim_B$. But then by the universal property of quotients, there must be morphisms $\overline{\pi_{\sim_A} \pi_A}$ and $\overline{\pi_{\sim_B} \pi_B}$ such that the diagram
		\begin{equation*}
			\begin{tikzcd}[row sep=huge]
				{(A \times B) \setminus \sim} \arrow[r, "\overline{\pi_{\sim_A} \pi_A}"] & {A \setminus \sim_A} \\
				A \times B
					\arrow[u, "\pi_\sim"] 
					\arrow[ur, "\pi_{\sim_A} \pi_A" ]
					\arrow[r, "\pi_A"]
					& A \arrow[u, "\pi_{\sim_A}"] 
			\end{tikzcd}
		\end{equation*}
		and the corresponding one for $B$ commute.
		
		\item Let $Z$ be a set and $f: Z \to A \setminus \sim_A$ and $g: Z \to B \setminus \sim_B$ morphisms. By the universal property of a product in $\Cset$, there is a morphism $\sigma: Z \to A \times B$, such that the diagram
		\begin{equation*}
			\begin{tikzcd}
				& & A\\
				Z
					\arrow[r, "\sigma"]
					\arrow[urr, bend left, "f" swap]
					\arrow[drr, bend right, "g"] 
					& A \times B
						\arrow[ur, "\pi_A"]
						\arrow[dr, "\pi_B" swap] &\\
				& & B
			\end{tikzcd}
		\end{equation*}
		commutes. But notice, that then the diagram
		\begin{equation*}
			\begin{tikzcd}
				& & A \arrow[r, "\pi_{\sim_A}"] & A \setminus \sim_A \\
				Z
					\arrow[r, "\sigma"]
					\arrow[urr, bend left, "f" swap]
					\arrow[drr, bend right, "g"] 
					& A \times B
						\arrow[ur, "\pi_A"]
						\arrow[dr, "\pi_B" swap]
						\arrow[r, "\pi_\sim"]
					& (A \times B) \setminus \sim
						\arrow[ur, "\overline{\pi_{\sim_A} \pi_A}"]
						\arrow[dr, "\overline{\pi_{\sim_B} \pi_B}" swap]
					& \\
				& & B \arrow[r, "\pi_{\sim_B}" swap] & B \setminus \sim_B
			\end{tikzcd}
		\end{equation*}
		also must commute, as the three outer diagrams commute. But then it must be the case that the following diagram is commutative:
		\begin{equation*}
			\begin{tikzcd}
				& & A \setminus \sim_A \\
				Z
					\arrow[r, "\pi_\sim \sigma"]
					\arrow[urr, bend left, "\pi_{\sim_A} f" swap]
					\arrow[drr, bend right, "\pi_{\sim_B} g"] 
					& (A \times B) \setminus \sim
						\arrow[ur, "\overline{\pi_{\sim_A} \pi_A}"]
						\arrow[dr, "\overline{\pi_{\sim_B} \pi_B}" swap]
					&\\
				& & B \setminus \sim_B
			\end{tikzcd}
		\end{equation*}
		But that means that $(A \times B) \setminus \sim$ with the two corresponding morphisms is final in the category (note that $\pi_\sim\sigma$ is indeed unique, by the uniqueness of the two composed morphisms) and thus it satisfies the universal property of a product of $A \setminus \sim_A$ and $B \setminus \sim_B$.
		\item Therefore, we must have have $(A \times B) \setminus \sim \cong (A \setminus \sim_A) \times (B \setminus \sim_B)$ by Proposition I.5.4, which is exactly what we wanted to prove.
	\end{itemize}
\end{solution}

% Problem 5.12
\begin{problem}
\end{problem}

\begin{solution}
	Suppose $\C$ is a category.
	\begin{itemize}
		\item Suppose $\alpha: A \to C, \beta: B \to C$ are morphisms in the category $\C$. We say $\C$ is a category with fibered products if there is object $A \prod_C B$ with morphisms $\pi_A : A \prod_C B \to A$ and $\pi_B: A \prod_C B \to B$ that is final in $\C_{\alpha,\beta}$:
		\begin{equation*}
			\begin{tikzcd}
				& A \arrow[dr, "\alpha" swap] &\\
				A \prod_C B
					\arrow[ur, "\pi_A" swap]
					\arrow[dr, "\pi_B"]
					& & C\\
				& B \arrow[ur, "\beta"] &
			\end{tikzcd}
		\end{equation*}
		
		Consider the category $\Cset$. Let us define $A \prod_C B = \{(a, b) \mid (a,b) \in A \times B \wedge \alpha(a) = \beta(b)\}$. The morphisms $\pi_A$ and $\pi_B$ are the same as in the case of a product. To prove that this is a fibered product, suppose $Z$ is any set and $f: Z \to A$ and $g: Z \to B$ morphisms, for which it holds that $\alpha f = \beta g$. Then there is a single possibility for the morphism $\sigma: Z \to A \prod_C B$ that makes the following diagram commute:
		\begin{equation*}
			\begin{tikzcd}
				& & A \arrow[dr, "\alpha" swap] &\\
				Z
					\arrow[r, "\sigma"]
					\arrow[urr, bend left, "f" swap]
					\arrow[drr, bend right, "g"]
					& A \prod_C B
						\arrow[ur, "\pi_A" swap]
						\arrow[dr, "\pi_B"]
					& & C\\
				& & B \arrow[ur, "\beta"] &
			\end{tikzcd}
		\end{equation*}
		The only possibility is $\sigma(z) = (f(z),g(z))$. This makes the diagram commute, because $\alpha(\pi_A\sigma(z))=\alpha(\pi_A((f(z),g(z))))=\alpha(f(z))=\beta(g(z))=\beta(\pi_B((f(z), g(z))))=\beta(\pi_B\sigma(z))$. The uniqueness of the definition of $\sigma$ is enforced by the required commutativity of the diagram. Thus $\Cset$ is a category with fibered products.
		
		\item Suppose $\alpha: C \to A, \beta: C \to B$ are morphisms in the category $\C$. We say $\C$ is a category with fibered coproducts if there is object $A \coprod_C B$ with morphisms $i_A : A \to A \coprod_C B$ and $i_B: B \to A \coprod_C B$ that is initial in $\C_{\alpha,\beta}$:
		\begin{equation*}
			\begin{tikzcd}
				& A \arrow[dr, "i_A" swap] &\\
				C
					\arrow[ur, "\alpha" swap]
					\arrow[dr, "\beta"]
					&
					& A \coprod_C B\\
				& B \arrow[ur, "i_B"] &
			\end{tikzcd}
		\end{equation*}
		
		Consider the category $\Cset$. We shall define $A \coprod_C B = (A \coprod B) \setminus \sim$ where $a \sim b$ if and only if $\alpha i_A(a) = \beta i_B(b)$ (which is an equivalence relation as it is defined based on an equality).
	\end{itemize}
\end{solution}

\section{Groups, first encounter}

\subsection{Definition of group}

\end{document}